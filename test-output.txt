ðŸ” Starting Firebase authentication setup...
   Using API key: AIzaSyBkva...
   Base URL: http://localhost:4321
ðŸ“¡ Authenticating user: sator@iki.fi
âœ… Firebase authentication successful
   UID: vN8RyOYratXr80130A7LqVCLmLn1
ðŸŒ Creating browser context with auth state...
ðŸ’¾ Auth state injected into localStorage
âœ… Storage state saved to: /Users/ville.takanen/dev/pelilauta-17/playwright/.auth/user.json
ðŸ” Verifying authentication...
âœ… Authentication verified - user is logged in
ðŸŽ‰ Global setup completed successfully!


Running 7 tests using 3 workers

ðŸ” Authenticating programmatically: sator@iki.fi
ðŸ” Authenticating programmatically: sator@iki.fi
ðŸ” Authenticating programmatically: sator@iki.fi
âœ… Firebase authentication successful
âœ… Firebase authentication successful
âœ… Firebase authentication successful
ðŸ’¾ Auth state injected into localStorage
ðŸ’¾ Auth state injected into localStorage
ðŸ’¾ Auth state injected into localStorage
âœ… Programmatic authentication complete
âœ… Admin authenticated successfully (verified UI)
âœ… Programmatic authentication complete
âœ… Admin authenticated successfully (verified UI)
âœ… Programmatic authentication complete
âœ… Admin authenticated successfully (verified UI)
  âœ˜  1 [chromium] â€º e2e/thread-labels.spec.ts:437:3 â€º Thread Labels (PBI-041) â€º non-admin users cannot add labels (0ms)
  âœ˜  3 [chromium] â€º e2e/thread-labels.spec.ts:238:3 â€º Thread Labels (PBI-041) â€º admin can remove labels from a thread (0ms)
  -  4 [chromium] â€º e2e/thread-labels.spec.ts:298:3 â€º Thread Labels (PBI-041) â€º labels are visually distinct from user tags
  -  5 [chromium] â€º e2e/thread-labels.spec.ts:347:3 â€º Thread Labels (PBI-041) â€º can add labels to threads without any user tags
  âœ˜  2 [chromium] â€º e2e/thread-labels.spec.ts:63:3 â€º Thread Labels (PBI-041) â€º admin can add labels to a thread (0ms)
  -  6 [chromium] â€º e2e/thread-labels.spec.ts:100:3 â€º Thread Labels (PBI-041) â€º labels persist after thread edit (PBI-042 fix)
  -  7 [chromium] â€º e2e/thread-labels.spec.ts:183:3 â€º Thread Labels (PBI-041) â€º labels appear on tag pages immediately (PBI-042 fix)


  1) [chromium] â€º e2e/thread-labels.spec.ts:63:3 â€º Thread Labels (PBI-041) â€º admin can add labels to a thread 

    TimeoutError: page.waitForURL: Timeout 30000ms exceeded.
    =========================== logs ===========================
    waiting for navigation until "load"
    ============================================================

      49 |
      50 |     // Wait for navigation to the thread page
    > 51 |     await page.waitForURL(/\/threads\/[^/]+$/, { timeout: 30000 });
         |                ^
      52 |
      53 |     threadUrl = page.url();
      54 |     const urlMatch = threadUrl.match(/\/threads\/([^/]+)$/);
        at /Users/ville.takanen/dev/pelilauta-17/e2e/thread-labels.spec.ts:51:16

    Error Context: test-results/thread-labels-Thread-Label-a24b9--can-add-labels-to-a-thread-chromium/error-context.md

  2) [chromium] â€º e2e/thread-labels.spec.ts:238:3 â€º Thread Labels (PBI-041) â€º admin can remove labels from a thread 

    TimeoutError: page.waitForURL: Timeout 30000ms exceeded.
    =========================== logs ===========================
    waiting for navigation until "load"
    ============================================================

      49 |
      50 |     // Wait for navigation to the thread page
    > 51 |     await page.waitForURL(/\/threads\/[^/]+$/, { timeout: 30000 });
         |                ^
      52 |
      53 |     threadUrl = page.url();
      54 |     const urlMatch = threadUrl.match(/\/threads\/([^/]+)$/);
        at /Users/ville.takanen/dev/pelilauta-17/e2e/thread-labels.spec.ts:51:16

    Error Context: test-results/thread-labels-Thread-Label-b965b-remove-labels-from-a-thread-chromium/error-context.md

  3) [chromium] â€º e2e/thread-labels.spec.ts:437:3 â€º Thread Labels (PBI-041) â€º non-admin users cannot add labels 

    TimeoutError: page.waitForURL: Timeout 30000ms exceeded.
    =========================== logs ===========================
    waiting for navigation until "load"
    ============================================================

      49 |
      50 |     // Wait for navigation to the thread page
    > 51 |     await page.waitForURL(/\/threads\/[^/]+$/, { timeout: 30000 });
         |                ^
      52 |
      53 |     threadUrl = page.url();
      54 |     const urlMatch = threadUrl.match(/\/threads\/([^/]+)$/);
        at /Users/ville.takanen/dev/pelilauta-17/e2e/thread-labels.spec.ts:51:16

    Error Context: test-results/thread-labels-Thread-Label-fcafa-min-users-cannot-add-labels-chromium/error-context.md

  3 failed
    [chromium] â€º e2e/thread-labels.spec.ts:63:3 â€º Thread Labels (PBI-041) â€º admin can add labels to a thread 
    [chromium] â€º e2e/thread-labels.spec.ts:238:3 â€º Thread Labels (PBI-041) â€º admin can remove labels from a thread 
    [chromium] â€º e2e/thread-labels.spec.ts:437:3 â€º Thread Labels (PBI-041) â€º non-admin users cannot add labels 
  4 did not run
